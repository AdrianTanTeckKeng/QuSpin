
cdef {c_basis_type} make_t_basis_template(shifter shift,ns_type next_state,
										unsigned long long MAX,unsigned long long s,int L,
										int kblock,int a,NP_INT8_t * N, {c_basis_type} * basis):
	cdef {c_basis_type} Ns
	cdef NP_INT8_t r
	cdef unsigned long long i

	Ns = 0
	for i in range(MAX):
		r=CheckState_T_template(shift,kblock,L,s,a)
		if r > 0:
			N[Ns] = r				
			basis[Ns] = s
			Ns += 1		
		
		s = next_state(s)

	return Ns